<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>European Statistics Awards for Nowcasting - Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/logo-ESA.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://kit.fontawesome.com/78ddb093ea.js" crossorigin="anonymous"></script>


<meta property="og:title" content="European Statistics Awards for Nowcasting - Data">
<meta property="og:description" content="">
<meta property="og:site-name" content="European Statistics Awards for Nowcasting">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/logo-INSEE.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./methodology.html" rel="" target="">
 <span class="menu-text">Methodology</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./data.html" rel="" target="" aria-current="page">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ppi.html" rel="" target="">
 <span class="menu-text">PPI</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./pvi.html" rel="" target="">
 <span class="menu-text">PVI</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tourism.html" rel="" target="">
 <span class="menu-text">TOURISM</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/InseeFrLab/ESA-Nowcasting-2023" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-data-eurostat" id="toc-sec-data-eurostat" class="nav-link active" data-scroll-target="#sec-data-eurostat">Eurostat data</a></li>
  <li><a href="#financial-data-from-yahoo-finance" id="toc-financial-data-from-yahoo-finance" class="nav-link" data-scroll-target="#financial-data-from-yahoo-finance">Financial data from Yahoo Finance</a></li>
  <li><a href="#google-trends" id="toc-google-trends" class="nav-link" data-scroll-target="#google-trends">Google Trends</a></li>
  <li><a href="#other-data" id="toc-other-data" class="nav-link" data-scroll-target="#other-data">Other data</a>
  <ul class="collapse">
  <li><a href="#electricity-prices" id="toc-electricity-prices" class="nav-link" data-scroll-target="#electricity-prices">Electricity prices</a></li>
  <li><a href="#calendar-data" id="toc-calendar-data" class="nav-link" data-scroll-target="#calendar-data">Calendar data</a></li>
  <li><a href="#leading-national-indicators" id="toc-leading-national-indicators" class="nav-link" data-scroll-target="#leading-national-indicators">Leading national indicators</a></li>
  <li><a href="#other-potential-interesting-data-sources-not-identified-in-open-data-sources" id="toc-other-potential-interesting-data-sources-not-identified-in-open-data-sources" class="nav-link" data-scroll-target="#other-potential-interesting-data-sources-not-identified-in-open-data-sources">Other potential interesting data sources (not identified in open data sources)</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/InseeFrLab/ESA-Nowcasting-2023/edit/main/data.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/InseeFrLab/ESA-Nowcasting-2023/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>We take pride in our commitment to utilizing exclusively open data sources in our modeling efforts. This approach ensures the transparency and replicability of our methods, which are of paramount importance in the realm of official statistics. By leveraging publicly available data, we have been able to derive accurate nowcasts of key economic indicators while promoting the principles of open science and reproducibility.</p>
<p>This data can be separated in several categories:</p>
<section id="sec-data-eurostat" class="level2">
<h2 class="anchored" data-anchor-id="sec-data-eurostat">Eurostat data</h2>
<p>We use classic macroeconomic variables provided to Eurostat by European countries and available on Eurostat website. These series are automatically retrieved from Eurostat database through its API.</p>
<ol type="1">
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/sts_inppd_m/default/table?lang=en">Producer prices in industry</a>:</p>
<p>Producer Price in Industry (PPI) refers to the average price that domestic producers receive for the goods and services they produce. This indicator measures changes in the price of goods and services at the producer level, and it is considered an important leading indicator of inflation.</p>
<p>Specificities: - The PPI challenge refers to this indicator for a particular NACE - Total on domestic market (target variable) - Division level of NACE and MIGs</p></li>
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/sts_inpi_m/default/table?lang=en">Import prices in industry</a>:</p>
<p>Import prices in industry, also known as industrial import price index (IPI), refer to the cost of goods and services imported into a country for use in production. This indicator reflects changes in the prices of imported raw materials, intermediate goods, and capital equipment, and it is influenced by factors such as exchange rates, global commodity prices, and trade policies.</p>
<p>Specificities: - Total - Division level of CPA and MIGs</p></li>
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/sts_inpr_m/default/table?lang=en">Production index in industry</a> :</p>
<p>The Production Index in Industry (or Production Volume in Industry - PVI) is a measure of the physical output of the industrial sector of an economy. It tracks changes in the volume of goods produced over time, and it is considered an important indicator of the health and performance of the manufacturing sector. The production index can be used to assess trends in productivity, capacity utilization, and competitiveness.</p>
<p>Specificities: - The PVI challenge refers to this indicator for a particular NACE - Total - Intermediary goods (MIG_ING)</p></li>
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/prc_hicp_midx/default/table?lang=en">Harmonised Index of Consumer Prices</a> on a few products</p>
<p>The Harmonised Index of Consumer Prices (HICP) is a measure of inflation that is used to compare price changes across the European Union. It tracks the average change over time in the prices of goods and services that households consume, including food, housing, transportation, and healthcare. The HICP is calculated using a harmonised methodology that ensures comparability across EU member states, and it is published on a monthly basis by Eurostat. It is a key indicator of price stability.</p></li>
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/ei_bsin_m_r2/default/table?lang=en">Business survey in industry</a>:</p>
<p>The Business Survey in Industry is a survey conducted by Eurostat to gather information on the business conditions and expectations of companies in the manufacturing sector. The survey covers a range of topics, including production, new orders, inventories, employment, prices, and investment, and it is conducted on a monthly basis across the European Union. The data collected from the survey can be used to assess the current and future state of the manufacturing sector, to identify sector-specific challenges and opportunities, and to inform policymaking and business decision-making.</p>
<p>Covered by the survey: - Industrial confidence indicator - Production development observed over the past 3 months - Production expectations over the next 3 months - Employment expectations over the next 3 months - Assessment of order-book levels - Assessment of the current level of stocks of finished products - Selling price expectations over the next 3 months</p></li>
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/ei_bsco_m/default/table?lang=en">Consumer survey in industry</a>:</p>
<p>The Consumer Survey in Industry is a survey conducted by Eurostat to gather information on the consumer sentiment and behavior in the European Union. The survey covers a range of topics, including household income, savings, spending intentions, and major purchases, and it is conducted on a monthly basis. The data collected from the survey can be used to assess consumer confidence, to identify trends in consumer spending and saving patterns, and to inform policymaking and business decision-making. The Consumer Survey in Industry is an important indicator of the overall health of the economy, as consumer spending is a major driver of economic activity.</p>
<p>Covered by the survey: - Financial situation over the last 12 months - Financial situation over the next 12 months - General economic situation over the last 12 months - General economic situation over the next 12 months - Price trends over the last 12 months - Price trends over the next 12 months - Unemployment expectations over the next 12 months - The current economic situation is adequate to make major purchases - Major purchases over the next 12 months - The current economic situation is adequate for savings - Savings over the next 12 months - Statement on financial situation of household - Consumer confidence indicator</p></li>
<li><p><a href="https://ec.europa.eu/eurostat/databrowser/view/tour_occ_nim/default/table?lang=en">Number of nights spent at tourist accommodation establishments</a></p>
<p>The number of nights spent at tourist accommodation establishments is a measure of the volume of tourism activity in a country. It refers to the total number of nights that guests spend in all types of tourist accommodation establishments, including hotels, campsites, holiday homes, and other types of accommodation. This indicator is important for assessing the contribution of tourism to the economy, as well as for monitoring the performance and competitiveness of the tourism sector.</p>
<p>Specificities: - The TOURISM challenge refers to this indicator</p></li>
</ol>
</section>
<section id="financial-data-from-yahoo-finance" class="level2">
<h2 class="anchored" data-anchor-id="financial-data-from-yahoo-finance">Financial data from Yahoo Finance</h2>
<p>Yahoo Finance is a popular online platform for financial information and investment tools. It provides a wide range of financial data, including real-time stock prices, historical price charts, news articles, analyst ratings, and financial statements for publicly traded companies. We used its API to get the latest financial data to improve our short-term predictions.</p>
<ol type="1">
<li><p><a href="https://finance.yahoo.com/quote/EURUSD=X">Euro/Dollar exchange rate</a></p>
<p>The Euro/Dollar exchange rate represents the value of one euro in terms of US dollars. It is a widely followed currency pair in the foreign exchange market, as it reflects the relative strength of two of the world’s largest economies. Movements in the exchange rate can be influenced by a range of factors, such as interest rate differentials, inflation expectations, political developments, and global economic trends. The exchange rate can impact international trade, investment flows, and the competitiveness of exports and imports, making it a key indicator for businesses, investors, and policymakers alike.</p></li>
<li><p><a href="https://finance.yahoo.com/quote/BZ=F/">Brent Crude Oil Stock Price</a></p>
<p>The Brent Crude Oil Last Day Financial Futures Stock Price is a benchmark for the price of crude oil from the North Sea, which is used as a pricing reference for approximately two-thirds of the world’s traded crude oil. As a financial futures contract, it allows investors to trade the price of oil without actually buying or selling the physical commodity. The stock price reflects the market’s perception of supply and demand dynamics, geopolitical risks, and other macroeconomic factors that impact the oil market.</p></li>
<li><p><a href="https://finance.yahoo.com/quote/%5EGSPC">S&amp;P 500 Index Stock Price</a></p>
<p>The S&amp;P 500 Index stock is a market capitalization-weighted index of 500 leading publicly traded companies in the United States. It is widely considered to be a barometer of the US stock market’s performance, providing investors with a broad-based measure of the economy’s health and direction. The S&amp;P 500 index includes companies from a range of sectors, such as technology, healthcare, finance, and energy, making it a diversified indicator of the US equity market.</p></li>
<li><p><a href="https://finance.yahoo.com/quote/%5ESTOXX50E">Euro stoxx 50 Index Stock Price</a></p>
<p>The Euro Stoxx 50 Index stock is a market capitalization-weighted index of 50 leading blue-chip companies from 12 Eurozone countries. It is designed to reflect the performance of the Eurozone’s most liquid and largest companies across a range of industries, including banking, energy, consumer goods, and healthcare. As a widely recognized benchmark of the Eurozone equity market, the Euro Stoxx 50 Index stock is used by investors and analysts to track market trends, benchmark portfolio performance, and identify investment opportunities. Movements in the index are influenced by a range of factors, such as economic growth prospects, monetary policy decisions, geopolitical risks, and corporate earnings announcements.</p></li>
<li><p><a href="https://finance.yahoo.com/quote/%5EFCHI">CAC40 Index Stock Price</a></p>
<p>The CAC 40 Index Stock is a benchmark index of the top 40 companies listed on the Euronext Paris Stock Exchange, representing a broad range of industries such as energy, finance, healthcare, and technology. It is the most widely used indicator of the French equity market’s performance and is considered one of the leading indices in Europe. The CAC 40 Index Stock is weighted by market capitalization and is closely monitored by investors and analysts as an indicator of economic health and growth prospects in France. Movements in the index can be influenced by a variety of factors, such as geopolitical risks, macroeconomic indicators, and company-specific news.</p></li>
</ol>
</section>
<section id="google-trends" class="level2">
<h2 class="anchored" data-anchor-id="google-trends">Google Trends</h2>
<p>Google Trends is a free online tool provided by Google that allows users to explore the popularity of search queries over time and across different regions and languages. It provides valuable insights into the behavior of internet users, the topics they are interested in, and the evolution of search trends over time.</p>
<p>Nevertheless, the use of Google Trends data as a tool for economic analysis needs to be done carefully. Google Trends provides Search Volume Indices (SVI) based on search ratios, with the initial search volume for a category or topic at a given time divided by the total number of searches at that date. However, changes in the denominator (total searches) can induce biases as internet use has evolved since 2004.</p>
<p>We implemented an approach to address this downward bias by extracting a common component from concurrent time series using Principal Component Analysis (PCA) on the log-SVI series long-term trends filtered out using an HP filter. The rescaled first component obtained from the long-term log-SVIs is assumed to capture the common long-term trend, and it is subtracted from the log-SVIs. This approach can help to remove the downward bias common to all Google Trends variables and improve their economic predictive power. More information in this <a href="https://www.oecd-ilibrary.org/docserver/6b9c7518-en.pdf?expires=1681837213&amp;id=id&amp;accname=guest&amp;checksum=31B9D9D14F31F4C9DFC38934AD9A4D96">paper</a>.</p>
<p>Observed categories:</p>
<ol type="1">
<li>Manufacturing</li>
<li>Industrial Materials &amp; Equipment</li>
<li>Fuel Economy &amp; Gas Prices</li>
<li>Hotels &amp; Accommodations</li>
<li>Travel Agencies &amp; Services</li>
<li>Vacation Offers</li>
<li>Mountain &amp; Ski Resorts</li>
</ol>
</section>
<section id="other-data" class="level2">
<h2 class="anchored" data-anchor-id="other-data">Other data</h2>
<section id="electricity-prices" class="level3">
<h3 class="anchored" data-anchor-id="electricity-prices"><a href="https://ember-climate.org/data-catalogue/european-wholesale-electricity-price-data/">Electricity prices</a></h3>
<p><a href="emberg.org">Ember.org</a> provides European wholesale electricity price data that can be used to analyze electricity market trends, monitor price volatility, and inform investment decisions. The data is sourced from various market operators and exchanges across Europe and covers a wide range of countries and regions.</p>
</section>
<section id="calendar-data" class="level3">
<h3 class="anchored" data-anchor-id="calendar-data">Calendar data</h3>
<p>We retrieve the number of weekend days per month to include it as a feature to our models.</p>
</section>
<section id="leading-national-indicators" class="level3">
<h3 class="anchored" data-anchor-id="leading-national-indicators">Leading national indicators</h3>
<ol type="1">
<li>Germany developed some experimental indicators on activity. We use the daily Truck toll mileage index accessible on <a href="https://www.destatis.de/EN/Service/EXDAT/Datensaetze/truck-toll-mileage.html">Destatis website</a>.</li>
</ol>
<ol start="2" type="1">
<li>The <a href="https://www.wifo.ac.at/en/topics/business_cycle/wifo_leading_indicator/wifo_leading_indicator">Weekly WIFO Economic Index</a> is a measure of the real economic activity of the Austrian economy. We use its industrial production component.</li>
</ol>
</section>
<section id="other-potential-interesting-data-sources-not-identified-in-open-data-sources" class="level3">
<h3 class="anchored" data-anchor-id="other-potential-interesting-data-sources-not-identified-in-open-data-sources">Other potential interesting data sources (not identified in open data sources)</h3>
<ul>
<li>Historical Purchasing manager’s index by country</li>
<li>London metal exchange indices</li>
<li>Daily electricity consumption by industrial firms country by country</li>
<li>…</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="./LICENCE.html">License</a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>